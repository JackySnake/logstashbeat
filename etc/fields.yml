defaults:
  type: keyword
  required: false
  index: true

env:
  type: group
  description: >
    Contains common fields available in all event types.
  fields:
    - type: group
      name: beat
      fields:
      - name: name
        description: >
          The name of the Beat sending the log messages. If the shipper name is set
          in the configuration file, then that value is used. If it is not set,
          the hostname is used.
      - name: hostname
        description: >
          The hostname as returned by the operating system on which the Beat is
          running.
    - name: "@timestamp"
      type: date
      required: true
      format: YYYY-MM-DDTHH:MM:SS.milliZ
      example: 2015-01-24T14:06:05.071Z
      description: >
        The timestamp when the log line was read. The precision is in
        milliseconds. The timezone is UTC.
    - name: type
      required: true
      description: >
        The type of the event generated by this beat, one of "jvm", "events", "process"

events:
  fields:
    - name: counter
      type: integer
      required: true
      description: >
        The sequence number of the sample
    - type: group
      name: jvm
      fields:
      - name: events.in
        description: >
          The number of events that went through the input plugins
      - name: events.filtered
        description: >
          The number of events that went through the filter plugins
      - name: events.out
        description: >
          The number of events that went through the output plugins

jvm:
  fields:
    - name: counter
      type: integer
      required: true
      description: >
        The sequence number of the sample
    - type: group
      name: jvm
      fields:
      - name: threads.count
        description: >
          The current number of running threads.
      - name: threads.peak_count
        description: >
          The peak number of threads that have run.

process:
  fields:
    - name: counter
      type: integer
      required: true
      description: >
        The sequence number of the sample
    - type: group
      name: process
      fields:
      - name: process.max_file_descriptors
        description: >
          The maximum count of available file descriptors
      - name: process.open_file_descriptors
        description: >
          The count of open file descriptors
      - name: process.peak_open_file_descriptors
        description: >
          The peak count of open file descriptors
      - name: process.cpu.percent
        description: >
          The CPU load in percent
      - name: process.cpu.total_in_millis
        description: >
          The amount of CPU processing time (in milliseconds)
      - name: mem.total_virtual_in_bytes
        description: >
          The amount of virtual memory (in bytes)

sections:
  - ["env", "Common"]
  - ["events", "Events"]
  - ["jvm", "JVM"]
  - ["process", "Process"]
